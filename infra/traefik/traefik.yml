######################################################################
## Traefik Configuration for Local Development (.test domains)
## - Dashboard enabled
## - HTTP + HTTPS entrypoints
## - No HTTPS redirect (avoids local issues)
## - No Let's Encrypt (cannot issue certs for .test)
## - OpenTelemetry tracing enabled
######################################################################

api:
  dashboard: true

entryPoints:
  web:
    address: ":80"
    ## ⚠️ HTTPS redirect disabled for local .test domains
    # http:
    #   redirections:
    #     entryPoint:
    #       to: websecure
    #       scheme: https

  websecure:
    address: ":443"

providers:
  docker:
    exposedByDefault: false

## ⚠️ Let's Encrypt disabled for .test domains
# certificatesResolvers:
#   letsencrypt:
#     acme:
#       email: your-email@example.com
#       storage: /acme.json
#       httpChallenge:
#         entryPoint: web


#####################################################################
# OPTIONAL LOGGING (disabled by default)
#####################################################################

accessLog:
 filePath: "/logs/access.log"
 format: json

#####################################################################
# OPTIONAL METRICS (disabled by default)
#####################################################################

metrics:
 prometheus:
   entryPoint: web
